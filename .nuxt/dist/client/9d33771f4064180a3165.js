(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{536:function(t,e,r){"use strict";r.d(e,"c",(function(){return d})),r.d(e,"a",(function(){return l})),r.d(e,"b",(function(){return c}));var n=r(0),o=r(538),l=Object(n.i)("v-card__actions"),c=Object(n.i)("v-card__text"),d=Object(n.i)("v-card__title");o.a},538:function(t,e,r){"use strict";r(13),r(8),r(7),r(6),r(9);var n=r(1),o=(r(17),r(166),r(133)),l=r(169),c=r(45),d=r(4);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function h(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(source,!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(source).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=Object(d.a)(l.a,c.a,o.a).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},outlined:Boolean,raised:Boolean},computed:{classes:function(){return h({"v-card":!0},c.a.options.computed.classes.call(this),{"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.loading||this.disabled,"v-card--outlined":this.outlined,"v-card--raised":this.raised},o.a.options.computed.classes.call(this))},styles:function(){var style=h({},o.a.options.computed.styles.call(this));return this.img&&(style.background='url("'.concat(this.img,'") center center / cover no-repeat')),style}},methods:{genProgress:function(){var t=l.a.options.methods.genProgress.call(this);return t?this.$createElement("div",{staticClass:"v-card__progress"},[t]):null}},render:function(t){var e=this.generateRouteLink(),r=e.tag,data=e.data;return data.style=this.styles,this.isClickable&&(data.attrs=data.attrs||{},data.attrs.tabindex=0),t(r,this.setBackgroundColor(this.color,data),[this.genProgress(),this.$slots.default])}})},543:function(t,e,r){var content=r(544);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(15).default)("7c06aa28",content,!0,{sourceMap:!1})},544:function(t,e,r){(t.exports=r(14)(!1)).push([t.i,".theme--light.v-data-table{background-color:#fff;color:rgba(0,0,0,.87)}.theme--light.v-data-table colgroup .divider{border-right:1px solid rgba(0,0,0,.12)}.theme--light.v-data-table.v-data-table--fixed-header thead th{background:#fff;box-shadow:inset 0 -1px 0 rgba(0,0,0,.12)}.theme--light.v-data-table thead tr:last-child th{border-bottom:1px solid rgba(0,0,0,.12)}.theme--light.v-data-table thead tr th{color:rgba(0,0,0,.54)}.theme--light.v-data-table tbody tr:not(:last-child) td:last-child,.theme--light.v-data-table tbody tr:not(:last-child) td:not(.v-data-table__mobile-row){border-bottom:1px solid rgba(0,0,0,.12)}.theme--light.v-data-table tbody tr.active{background:#f5f5f5}.theme--light.v-data-table tbody tr:hover:not(.v-data-table__expanded__content){background:#eee}.theme--dark.v-data-table{background-color:#424242;color:#fff}.theme--dark.v-data-table colgroup .divider{border-right:1px solid hsla(0,0%,100%,.12)}.theme--dark.v-data-table.v-data-table--fixed-header thead th{background:#424242;box-shadow:inset 0 -1px 0 hsla(0,0%,100%,.12)}.theme--dark.v-data-table thead tr:last-child th{border-bottom:1px solid hsla(0,0%,100%,.12)}.theme--dark.v-data-table thead tr th{color:hsla(0,0%,100%,.7)}.theme--dark.v-data-table tbody tr:not(:last-child) td:last-child,.theme--dark.v-data-table tbody tr:not(:last-child) td:not(.v-data-table__mobile-row){border-bottom:1px solid hsla(0,0%,100%,.12)}.theme--dark.v-data-table tbody tr.active{background:#505050}.theme--dark.v-data-table tbody tr:hover:not(.v-data-table__expanded__content){background:#616161}.v-data-table table{width:100%;border-spacing:0}.v-data-table td,.v-data-table th{padding:0 16px}.v-data-table th{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:12px;height:48px}.v-application--is-ltr .v-data-table th{text-align:left}.v-application--is-rtl .v-data-table th{text-align:right}.v-data-table td{font-size:14px;height:48px}.v-data-table__wrapper{overflow-x:auto;overflow-y:hidden}.v-data-table__progress{height:auto!important}.v-data-table__progress th{height:auto!important;border:none!important;padding:0}.v-data-table--dense td{height:24px}.v-data-table--dense th{height:32px}.v-data-table--fixed-header .v-data-table__wrapper,.v-data-table--fixed-height .v-data-table__wrapper{overflow-y:auto}.v-data-table--fixed-header thead th{border-bottom:0!important;position:-webkit-sticky;position:sticky;top:0;z-index:2}.v-data-table--fixed-header thead tr:nth-child(2) th{top:48px}.v-application--is-ltr .v-data-table--fixed-header .v-data-footer{margin-right:17px}.v-application--is-rtl .v-data-table--fixed-header .v-data-footer{margin-left:17px}.v-data-table--fixed.v-data-table--dense thead tr:nth-child(2) th{top:32px}",""])},546:function(t,e,r){"use strict";r(13),r(8),r(7),r(6),r(9);var n=r(1),o=(r(17),r(543),r(0)),l=r(10),c=r(4);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}e.a=Object(c.a)(l.a).extend({name:"v-simple-table",props:{dense:Boolean,fixedHeader:Boolean,height:[Number,String]},computed:{classes:function(){return function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(source,!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(source).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({"v-data-table--dense":this.dense,"v-data-table--fixed-height":!!this.height&&!this.fixedHeader,"v-data-table--fixed-header":this.fixedHeader},this.themeClasses)}},methods:{genWrapper:function(){return this.$slots.wrapper||this.$createElement("div",{staticClass:"v-data-table__wrapper",style:{height:Object(o.f)(this.height)}},[this.$createElement("table",this.$slots.default)])}},render:function(t){return t("div",{staticClass:"v-data-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}})},567:function(t,e,r){"use strict";r.r(e);var n=r(2),o=r.n(n),l=(r(27),r(33),r(20)),c=r(172),d=function t(e,r){var n=this;Object(l.a)(this,t),this.workTable=[],this.driverReserveTable=[],this.busReserve=[],this.outDrivers={"Выходной":[],"Больничный":[],"Отпуск":[]},this.outBuses={"Ремонт":[],"СВАРЗ":[]},r.forEach((function(t){var r={},o=0;t.drivers.forEach((function(t){var l=(t=new c.a(t)).statusesByDate({date:e,count:1,isShort:!1,withExceptions:!0})[0].status;l&&(["Рабочий","Первая см.","Вторая см."].includes(l)?(o++,r[l]=t):n.outDrivers[l].push(t))})),["Ремонт","СВАРЗ"].includes(t.status)?(n.outBuses[t.status].push(t),0!==o&&n.driverReserveTable.push(r)):0===o?n.busReserve.push(t):(r["Автобус"]=t,n.workTable.push(r))}))},v={transition:"fade",data:function(){return{date:o()().format("YYYY-MM-DD"),menu:!1,headers:[]}},computed:{formattedDate:function(){return this.date?o()(this.date).format("DD/MM/YYYY"):""},report:function(){return console.log(new d(this.date,this.buses)),new d(this.date,this.buses)},buses:function(){return this.$store.getters["buses/list"]}},methods:{nextDay:function(){this.date=o()(this.date).add(1,"d").format("YYYY-MM-DD")},setToday:function(){this.date=o()().format("YYYY-MM-DD")},prevDay:function(){this.date=o()(this.date).subtract(1,"d").format("YYYY-MM-DD")}},mounted:function(){this.$store.dispatch("buses/readAll")}},h=r(26),f=r(29),m=r.n(f),y=r(97),_=r(538),O=r(536),j=r(156),w=(r(13),r(8),r(57),r(1)),x=(r(76),r(353),r(50),r(7),r(6),r(9),r(17),r(352),r(3)),k=r(167),D=r(0);function P(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var S=["sm","md","lg","xl"],C=S.reduce((function(t,e){return t[e]={type:[Boolean,String,Number],default:!1},t}),{}),Y=S.reduce((function(t,e){return t["offset"+Object(D.C)(e)]={type:[String,Number],default:null},t}),{}),B=S.reduce((function(t,e){return t["order"+Object(D.C)(e)]={type:[String,Number],default:null},t}),{}),E={col:Object.keys(C),offset:Object.keys(Y),order:Object.keys(B)};function M(t,e,r){var n=t;if(null!=r&&!1!==r){if(e){var o=e.replace(t,"");n+="-".concat(o)}return"col"!==t||""!==r&&!0!==r?(n+="-".concat(r)).toLowerCase():n.toLowerCase()}}var V=new Map,T=x.a.extend({name:"v-col",functional:!0,props:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?P(source,!0).forEach((function(e){Object(w.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):P(source).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({cols:{type:[Boolean,String,Number],default:!1}},C,{offset:{type:[String,Number],default:null}},Y,{order:{type:[String,Number],default:null}},B,{alignSelf:{type:String,default:null,validator:function(t){return["auto","start","end","center","baseline","stretch"].includes(t)}},tag:{type:String,default:"div"}}),render:function(t,e){var r=e.props,data=e.data,n=e.children,o=(e.parent,"");for(var l in r)o+=String(r[l]);var c=V.get(o);return c||function(){var t,e;for(e in c=[],E)E[e].forEach((function(t){var n=r[t],o=M(e,t,n);o&&c.push(o)}));var n=c.some((function(t){return t.startsWith("col-")}));c.push((t={col:!n||!r.cols},Object(w.a)(t,"col-".concat(r.cols),r.cols),Object(w.a)(t,"offset-".concat(r.offset),r.offset),Object(w.a)(t,"order-".concat(r.order),r.order),Object(w.a)(t,"align-self-".concat(r.alignSelf),r.alignSelf),t)),V.set(o,c)}(),t(r.tag,Object(k.a)(data,{class:c}),n)}}),$=r(531),N=r(526),R=r(125),L=r(528),z=r(157);function H(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var W=["sm","md","lg","xl"],F=["start","end","center"];function G(t,e){return W.reduce((function(r,n){return r[t+Object(D.C)(n)]=e(),r}),{})}var J=function(t){return[].concat(F,["baseline","stretch"]).includes(t)},A=G("align",(function(){return{type:String,default:null,validator:J}})),I=function(t){return[].concat(F,["space-between","space-around"]).includes(t)},K=G("justify",(function(){return{type:String,default:null,validator:I}})),Q=function(t){return[].concat(F,["space-between","space-around","stretch"]).includes(t)},U=G("alignContent",(function(){return{type:String,default:null,validator:Q}})),X={align:Object.keys(A),justify:Object.keys(K),alignContent:Object.keys(U)},Z={align:"align",justify:"justify",alignContent:"align-content"};function tt(t,e,r){var n=Z[t];if(null!=r){if(e){var o=e.replace(t,"");n+="-".concat(o)}return(n+="-".concat(r)).toLowerCase()}}var et=new Map,at=x.a.extend({name:"v-row",functional:!0,props:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?H(source,!0).forEach((function(e){Object(w.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):H(source).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:J}},A,{justify:{type:String,default:null,validator:I}},K,{alignContent:{type:String,default:null,validator:Q}},U),render:function(t,e){var r=e.props,data=e.data,n=e.children,o="";for(var l in r)o+=String(r[l]);var c=et.get(o);return c||function(){var t,e;for(e in c=[],X)X[e].forEach((function(t){var n=r[t],o=tt(e,t,n);o&&c.push(o)}));c.push((t={"no-gutters":r.noGutters,"row--dense":r.dense},Object(w.a)(t,"align-".concat(r.align),r.align),Object(w.a)(t,"justify-".concat(r.justify),r.justify),Object(w.a)(t,"align-content-".concat(r.alignContent),r.alignContent),t)),et.set(o,c)}(),t(r.tag,Object(k.a)(data,{staticClass:"row",class:c}),n)}}),nt=r(546),ot=r(75),component=Object(h.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",[r("v-card-title",[r("v-flex",{attrs:{xs12:"",sm7:"",md4:""}},[r("v-layout",{attrs:{"align-center":"","justify-end":""}},[r("v-menu",{attrs:{"close-on-content-click":!1,"full-width":"","max-width":"290"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-text-field",t._g({staticClass:"desable-shadow mr-4",staticStyle:{"box-shadow":"none"},attrs:{flat:"",solo:"","hide-details":"",value:t.formattedDate,label:"Date",readonly:""}},n))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t._v(" "),r("v-date-picker",{attrs:{"no-title":""},on:{change:function(e){t.menu=!1}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),t._v(" "),r("v-btn",{attrs:{color:"white",elevation:"1",fab:"",small:""},on:{click:t.prevDay}},[r("v-icon",[t._v("fa-chevron-left")])],1),t._v(" "),r("v-btn",{staticClass:"ml-3",attrs:{color:"white",elevation:"1",fab:"",small:""},on:{click:t.setToday}},[r("v-icon",[t._v("fa-undo-alt")])],1),t._v(" "),r("v-btn",{staticClass:"ml-3",attrs:{color:"white",elevation:"1",fab:"",small:""},on:{click:t.nextDay}},[r("v-icon",[t._v("fa-chevron-right")])],1)],1)],1)],1),t._v(" "),r("v-card-text",{staticClass:"mt-3"},[r("h1",[t._v("Рабочие")]),t._v(" "),r("v-simple-table",[r("thead",[r("tr",[r("th",[t._v("Автобус")]),t._v(" "),r("th",[t._v("Первая см.")]),t._v(" "),r("th",[t._v("Вторая см.")]),t._v(" "),r("th",[t._v("Полный день")])])]),t._v(" "),r("tbody",t._l(t.report.workTable,(function(e){return r("tr",{key:e["Автобус"]._id},[r("td",[t._v(t._s(e["Автобус"].busnumber))]),t._v(" "),r("td",[t._v(t._s(void 0!==e["Первая см."]?e["Первая см."].tabnumber:""))]),t._v(" "),r("td",[t._v(t._s(void 0!==e["Вторая см."]?e["Вторая см."].tabnumber:""))]),t._v(" "),r("td",[t._v(t._s(void 0!==e["Рабочий"]?e["Рабочий"].tabnumber:""))])])})),0)]),t._v(" "),r("v-row",[r("v-col",[r("h1",[t._v("Автобусы")]),t._v(" "),r("h2",{staticClass:"pt-2"},[t._v("Резерв")]),t._v(" "),t._l(t.report.busReserve,(function(e){return r("v-chip",{key:e._id},[t._v(t._s(e.busnumber))])})),t._v(" "),t._l(t.report.outBuses,(function(e,n){return[r("h2",{key:n,staticClass:"pt-2"},[t._v(t._s(n))]),t._v(" "),t._l(e,(function(e){return r("v-chip",{key:e._id},[t._v(t._s(e.busnumber))])}))]}))],2),t._v(" "),r("v-col",[r("h1",[t._v("Водители")]),t._v(" "),r("h2",{staticClass:"pt-2"},[t._v("Резерв")]),t._v(" "),r("v-simple-table",[r("thead",[r("tr",[r("th",[t._v("Первая см.")]),t._v(" "),r("th",[t._v("Вторая см.")]),t._v(" "),r("th",[t._v("Полный день")])])]),t._v(" "),r("tbody",t._l(t.report.driverReserveTable,(function(e,i){return r("tr",{key:i},[r("td",[t._v(t._s(void 0!==e["Первая см."]?e["Первая см."].tabnumber:""))]),t._v(" "),r("td",[t._v(t._s(void 0!==e["Вторая см."]?e["Вторая см."].tabnumber:""))]),t._v(" "),r("td",[t._v(t._s(void 0!==e["Рабочий"]?e["Рабочий"].tabnumber:""))])])})),0)]),t._v(" "),t._l(t.report.outDrivers,(function(e,n){return[r("h2",{key:n,staticClass:"pt-2"},[t._v(t._s(n))]),t._v(" "),t._l(e,(function(e){return r("v-chip",{key:e._id},[t._v(t._s(e.tabnumber))])}))]}))],2)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;m()(component,{VBtn:y.a,VCard:_.a,VCardText:O.b,VCardTitle:O.c,VChip:j.a,VCol:T,VDatePicker:$.a,VFlex:N.a,VIcon:R.a,VLayout:L.a,VMenu:z.a,VRow:at,VSimpleTable:nt.a,VTextField:ot.a})}}]);